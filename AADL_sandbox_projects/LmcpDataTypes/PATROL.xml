<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MDM SYSTEM 'MDM.DTD'>

<!--
        <h2>Introduction</h2>
        Messages to implement the information maximizing patrol algorithm. Depends upon CMASI and ICET message definition sets.

-->
<MDM>
    <SeriesName>PATROL</SeriesName>
    <Namespace>uxas/project/patrol</Namespace>
    <Version>1</Version>

    <StructList>

      <!-- Alarm Station location and ID definition for Patrol Algorithm -->
      <Struct Name="AlarmStation">
        <!-- Station ID -->
        <Field Name="AlarmID" Type="int64"/>
        <!-- Station world position -->
        <Field Name="Position" Type="CMASI/Location3D"/>
      </Struct>
      
      <!-- When an alarm is tripped, this signal message should be sent -->
      <Struct Name="AlarmStatus">
        <!-- Station ID -->
        <Field Name="AlarmID" Type="int64"/>
        <!-- Status: if true, alarm has been tripped -->
        <Field Name="AlarmStatus" Type="bool" Default="true"/>
      </Struct>

      <!-- If an operator determines that an alarm should no longer be investigated,
      this message is sent to notify the automation system that the vehicle should
      continue its patrol immediately -->
      <Struct Name="MoveOnSignal">
        <!-- Vehicle ID for which the signal is intended -->
        <Field Name="VehicleID" Type="int64"/>
      </Struct>
      
      <!-- Patrol a perimter with up to four alert stations using up to two UAVs.
      Uses expected alarm rate, <i>a priori</i> probability of threat, and operator model
      to determine the amount of time a UAV should investigate an alarm before moving
      on to service other alarms in the system. -->
      <Struct Name="PatrolTask" Extends="ICET/LineSurveillanceTask">
        <!-- Maximum number loiters after which alarm has no more value for investigation -->
        <Field Name="MaxNumberLoiters" Type="uint32" Default="5"/>
        <!-- List of alarm stations. Alarm station locations should be near the
        patrol route. Due to computational constraints, the maximum number of alarm
        stations is four -->
        <Field Name="AlarmStations" Type="AlarmStation[]" />
        <!-- Maximum number of decision locations. A higher number of decision locations allows the
        UAVs to turn around sooner to visit alarms behind them. However, there is a 
        significant computational burden for high numbers of decision locations. Typically,
        less than 20 is reccommended. The number of locations must be greater than the number
        of alarm locations. The actual number depends on the total length of the patrol path,
        speed of the vehicle, and minimum loiter duration. -->
        <Field Name="MaxNumberDecisionLocations" Type="uint32" Default="20"/>
        <!-- Assumed alarm arrival time interval. -->
        <Field Name="AlarmArrivalTimeInterval" Type="int64" Default="3600000" Units="milliseconds"/>
        <!-- Information queue weighting factor. -->
        <Field Name="WeightingFactor_Beta" Type="real32" Default="0.01"/>
        <!-- Treat point list as circle. If true, connects the start and end points of 
        the point list to create a circular perimeter. If false, a thin route encompassing
        the line defined by the point list is used. -->
        <Field Name="Circular" Type="bool" Default="true"/>
      </Struct>
	  
    </StructList>
</MDM>




